var O=(c,e,t)=>{if(!e.has(c))throw TypeError("Cannot "+t)};var a=(c,e,t)=>{if(e.has(c))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(c):e.set(c,t)};var o=(c,e,t)=>(O(c,e,"access private method"),t);import"./bootstrap.esm-DQn0aE2j.js";const I=[];class p{constructor(e,t,s,i,l,r){this.name=e,this.description=t,this.price=s,this.turnAroundTime={min:i,max:l,isFlexible:r}}}const y=[new p("UI/UX Design","User-centered design solutions.",3500,"2 weeks","8 weeks",!1),new p("Full Stack Web Development","End-to-end web development solutions.",2e3,"4 weeks","12 weeks",!0),new p("3d Modeling","High-quality 3D modeling services.",1500," 72 hours","2 weeks",!0),new p("Animation","Creative animation services for businesses.",2500," 1 week","4 weeks",!1)];class D extends EventTarget{constructor(e,t){super(),this.storageKey=e,this.services=t}get selectedService(){const e=JSON.parse(localStorage.getItem(this.storageKey));return e!==null&&this.checkSelectedServices(e)?e:I}checkSelectedServices(e){if(!Array.isArray(e))return!1;for(const t of e)if(!this.services.includes(t))return!1;return!0}}var S,x,v,w,E,L,d,h,b,P,u,f,B,z,C,A,g,k;class F{constructor(){a(this,S);a(this,v);a(this,E);a(this,d);a(this,b);a(this,u);a(this,B);a(this,C);a(this,g);this.startQuizBtn=document.getElementById("quizStart"),this.quizContainer=document.getElementById("quizContainer"),this.quizCloseBtn=document.getElementById("quizClose"),this.totalPrice=document.getElementById("totalPrice"),this.discountedPrice=document.getElementById("discountedPrice"),this.discountMessage=document.getElementById("discountMessage"),this.turnAroundContainer=document.getElementById("turnAroundContainer"),this.checkBoxContainer=document.getElementById("checkBoxContainer"),this.emailContainer=document.getElementById("emailContainer"),this.emailInput=document.getElementById("emailInput"),this.emailHelp=document.getElementById("emailHelpId"),this.submitBtn=document.getElementById("sumbit")}render(e,t){o(this,S,x).call(this),o(this,v,w).call(this),o(this,E,L).call(this,e),o(this,d,h).call(this,t),o(this,u,f).call(this)}getSelectedServices(e,t){this.checkBoxes=document.querySelectorAll("input[type=checkbox]"),this.checkBoxes&&(localStorage.getItem("selectedServices")&&(e=JSON.parse(localStorage.getItem("selectedServices")),e.forEach(s=>{const i=document.querySelector(`input[value="${s.name}"]`);i&&(i.checked=!0),o(this,d,h).call(this,e)})),this.checkBoxes.forEach(s=>{s.addEventListener("change",()=>{s.checked?(e.push(o(this,b,P).call(this,t,s.value)),localStorage.setItem("selectedServices",JSON.stringify(e)),o(this,d,h).call(this,e),o(this,u,f).call(this,e)):(e.splice(e.indexOf(s.value),1),localStorage.setItem("selectedServices",JSON.stringify(e)),o(this,d,h).call(this,e),o(this,u,f).call(this,e))})}))}}S=new WeakSet,x=function(){this.startQuizBtn.addEventListener("click",()=>{this.startQuizBtn.style.display="none",this.quizContainer.classList.remove("d-none")})},v=new WeakSet,w=function(){this.quizCloseBtn.addEventListener("click",e=>{e.preventDefault(),this.quizContainer.classList.add("d-none"),this.startQuizBtn.style.display="block"})},E=new WeakSet,L=function(e){e.map(t=>{const s=document.createElement("input");s.setAttribute("type","checkbox"),s.setAttribute("id",t.id),s.setAttribute("name",t.name),s.setAttribute("value",t.name),s.classList.add("form-check-input");const i=document.createElement("label");i.setAttribute("for",t.id),i.classList.add("form-check-label"),i.textContent=t.name;const l=document.createElement("p");l.textContent=t.description;const r=document.createElement("span");r.classList.add("rb-200");const m=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t.price);r.textContent=m;const n=document.createElement("div");n.classList.add("form-check"),n.appendChild(s),n.appendChild(i),n.appendChild(l),n.appendChild(r),this.checkBoxContainer.appendChild(n)})},d=new WeakSet,h=function(e){const t=e.reduce((m,n)=>m+n.price,0);let s,i;switch(e.length){case 2:s=t*.1,i="For 2 services you're eligible for a 10% discount";break;case 3:s=t*.15,i="For 3 services you're eligible for a 15% discount";break;case 4:s=t*.2,i="For 4 services you're eligible for a 20% discount";break;default:s=0}const l=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t),r=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t-s);this.discountedPrice.textContent=r,e.length>=2?(this.discountMessage.classList.remove("d-none"),this.discountedPrice.classList.remove("d-none"),this.totalPrice.classList.add("line-through")):(this.discountMessage.classList.add("d-none"),this.discountedPrice.classList.add("d-none"),this.totalPrice.classList.remove("line-through")),this.discountMessage.textContent=i,document.getElementById("totalPrice").textContent=l},b=new WeakSet,P=function(e,t){return e.find(i=>i.name===t)},u=new WeakSet,f=function(e){localStorage.getItem("selectedServices")&&(e=JSON.parse(localStorage.getItem("selectedServices")),e.length>0&&(this.emailContainer.classList.remove("d-none"),o(this,B,z).call(this,e)),e.length===0&&this.emailContainer.classList.add("d-none"))},B=new WeakSet,z=function(){this.emailInput.addEventListener("keyup",e=>{this.emailHelp.classList.remove("d-none"),o(this,g,k).call(this,e.target.value)&&(this.submitBtn.disabled=!1,this.emailHelp.textContent="Email is valid",o(this,C,A).call(this)),setTimeout(()=>{o(this,g,k).call(this,e.target.value)||(this.submitBtn.disabled=!0,this.emailHelp.textContent="Enter a valid email, please!")},3e3)}),this.submitBtn.disabled=!0},C=new WeakSet,A=function(){this.submitBtn.addEventListener("click",e=>{e.preventDefault();const t=JSON.parse(localStorage.getItem("selectedServices")),s=t.reduce((n,q)=>n+q.price,0).toFixed(2).toString(),i=t.map(n=>`${n.name} - ${n.price} `).join(""),l=this.discountMessage.textContent;let r=this.discountedPrice.textContent;l===""&&(r="");const m={services:i,totalPrice:s,discount:l,discountedPrice:r};emailjs.send("toochavez.dev","template_e6k9j4b",m).then(n=>{console.log(n),Swal.fire({title:"Success!",text:"Your email has been sent successfully!",icon:"success",confirmButtonText:"Ok"})}).catch(n=>{console.log(n),Swal.fire({title:"Error!",text:"Something went wrong, please try again!",icon:"error",confirmButtonText:"Ok"})})})},g=new WeakSet,k=function(e){return/\S+@\S+\.\S+/.test(e)};function M(){const c=new F,e=new D("selectedServices",y);e.addEventListener("selectedService",()=>{console.log("selectedService"),c.render(y,e.selectedService)}),c.render(y,e.selectedService),c.getSelectedServices(e.selectedService,y)}M();
